# C++中的各种static整理

**小结**：

1）参考资料[1]对static函数，static成员函数，static变量，static成员变量均进行了整理；

2）需要知道的是，堆存储在全局区（静态区）中；

3）正是static存储在全局区（静态区）中，造成了其声明和定义、具有共享性、作用范围、调用和被调用、与this，const，virtual等修饰符之间的使用关系。

Q：栈（stack）和堆（heap）的概念？

A：

1）栈(stack)：由编译器自动分配释放，存放函数的参数值，局部变量的值（除static），其操作方式类似于数据结构中的栈；

2）堆(heap)：一般由程序员分配释放，若程序员不释放，程序结束时可能由OS回收。注意它与数据结构中的堆(优先队列)是两回事，分配方式倒是类似于链表；

3）全局区(静态区)：全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域(BSS)，程序结束后由系统释放。

Q：静态成员的属性？

A：在C++中，静态成员是属于整个类的而不是某个对象，静态成员变量只存储一份供所有对象共用。

Q：静态成员的优点有哪些？

A：共享性、安全性（不会破坏隐藏的原则）、节省内存。

Q：如何定义和使用静态成员？

A：见参考资料吧。

Q：使用静态成员变量和静态成员函数有哪些规则，有哪些坑？

A：

1）不能通过类名来调用类的非静态成员函数；

2）类的对象可以使用静态成员函数和非静态成员函数；

3）静态成员函数中不能引用非静态成员；

4）类的非静态成员函数可以调用静态成员函数，但反之不能。

## 参考资料

[1] [C/C++---static函数，static成员函数，static变量，static成员变量 再来理一理](https://blog.csdn.net/FreeApe/article/details/50979425)

[2] [C++ 类的静态成员详细讲解](https://blog.csdn.net/MoreWindows/article/details/6721430)