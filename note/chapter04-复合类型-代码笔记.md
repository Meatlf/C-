# chapter04-复合类型-代码笔记

## 程序清单4.11 structor.cpp

1)C++提倡外部结构声明;

2)和数组一样,使用由逗号分隔值列表,并将这些值用花括号括起.

## 程序清单4.12 assgn_st.cpp

1)结构具有**赋值运算**的属性,即使结构中含有数组也可以.

## 程序清单4.17 use_new.cpp

1)使用new为基本数据类型的数据对象分配内存;

2)必须声明指针指向的类型的原因是,地址本身只是指出了对象存储地址的起始位置,并不能反映指向数据的类型;

3)系统默认用4个字节表示指针的大小,与其指向的数据类型无关;

4)数据的存储位置有栈(stack)和堆(heap)之分,具体第9章将介绍.

## 程序清单4.18 arraynew.cpp

1)使用new创建动态数组;

2)使用数组表示法访问元素;

3)数组和指针的差别在于数组只有访问的功能,而指针还有偏移的功能.

## string.cpp

1)sizeof运算符指出整个数组的长度;

2)strlen()函数返回的是存储在数组中的字符串的长度,而不是数组本身的长度.另外,strlen()只计算可见的字节,而不把字符计算在内;

3)字符串数组也是数组,也可以用索引来访问数组中各个字符;

4)可以使用字符常量来指定数组的长度.

## instr1.cpp

1)cin使用空白(空格,制表符和换行符)来确定字符串的结束位置,这意味着一个cin只能读一个单词.

## instr2.cpp

1)为了解决cin只能一次处理一个单词的问题,这里使用cin.getline()函数对输入的每一行数据进行处理.

## strtype1.cpp

1)使用string对象的方式与使用字符数组很类似:

- 可以使用C-风格字符串来初始化string对象;
- 可以使用cin来将键盘输入存储到string对象中;
- 可以使用cout来显示string对象;
- 可以使用数组表示法来访问存储在string对象中的字符.

## strtype2.cpp

1)使用string类时,某些操作比使用数组时更简单,例如这里的赋值,拼接和附加.

## strtype4.cpp

1)函数strlen()从数组的第一个元素开始计算字节数,直到遇到空字符;

2)未被初始化的string对象的长度被自动设置为0;

3)istream没有处理string对象的类方法.