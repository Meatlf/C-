# 第11章 使用类-代码笔记

## project0

1)程序清单11.1 mytime0.h、11.2 mytime0.cpp、11.3 usetime0.cpp构成了关于时间加法的类（分别对应声明、定义、使用），这里的时间加法实现是用`Time::Sum()`成员函数完成的，而这将为在11.2.1小节中用加法运算符替代，这里用`Time::Sum()`只是起到抛砖引玉的作用;

2)将参数声明为引用的目的是为了提高效率;

3)不要返回指向局部变量或临时对象的引用。函数执行完毕后，局部变量和临时对象将消失，引用将指向不存在的数据。

## project1

1）程序清单11.4 mytime1.h、11.5 mytime1.cpp说明了如何声明和定义”运算符成员函数“。具体而言，程序清单11.4和11.5分别是对11.2和11.5的改进，将`Time::Sum()`的名称改为`Time::operate+()`即可。

2）程序清单11.6 usetime1.cpp说明了使用加法运算符的两种方法，具体如下：

```c++
total = coding.operator+(fixing);	// 方法1：与一般成员函数一致的使用方法
total = coding + fixing;			// 方法2：运算符表示法
```

3)如果t1、t2、t3都是Time对象，以下运算是合法的，需要理解原因，书本中也详细说明了:

```c++
t4 = t1 + t2 + t3;
```

## project2

mytime3.h mytime3.cpp usetime3.cpp

mytime3.h

只有在类声明中的原型中才能使用friend关键字.

mytime3.cpp

一般的方法实现使用了Time::限定符,而友元函数不使用该限定符;

usetime3.cpp

虽然在.h中已经包含了头文件iostream,但是为了更好的服务于用户,应该将.h中包含的头文件再包含进来.